export type Discipline = 'architectural' | 'structural' | 'mechanical' | 'electrical' | 'plumbing'

export interface DimensionSpec {
  key: string
  label: string
  default: number
  min: number
  max: number
  step: number
  unit: string
}

export interface ComponentInfo {
  name: string
  detected: boolean
  confidence: number
}

export interface RevitFamilyCategory {
  id: string
  name: string
  description: string
  discipline: Discipline
  revitCategory: string
  omniClass: string
  uniclass: string
  ifcEntity: string
  detectionPrompts: string[]
  suggestedTemplate: string
  components: ComponentInfo[]
  dimensions: DimensionSpec[]
  subcategories: string[]
  templates: string[]
  hostBased: boolean
  connectorTypes?: string[]
}

export const disciplines: { id: Discipline; name: string; icon: string }[] = [
  { id: 'architectural', name: 'Architectural', icon: 'Building2' },
  { id: 'structural', name: 'Structural', icon: 'Construction' },
  { id: 'mechanical', name: 'Mechanical (HVAC)', icon: 'Fan' },
  { id: 'electrical', name: 'Electrical', icon: 'Zap' },
  { id: 'plumbing', name: 'Plumbing', icon: 'Droplets' },
]

export const revitCategories: RevitFamilyCategory[] = [
  {
    id: 'single-door',
    name: 'Single Door',
    description: 'Single-leaf hinged or pivoting door with frame',
    discipline: 'architectural',
    revitCategory: 'Doors',
    omniClass: '23-17 11 11',
    uniclass: 'Pr_30_59_32',
    ifcEntity: 'IfcDoor',
    detectionPrompts: ['door', 'single door', 'hinged door', 'interior door', 'entry door'],
    suggestedTemplate: 'Door - Single Panel',
    hostBased: true,
    components: [
      { name: 'Door Leaf', detected: false, confidence: 0 },
      { name: 'Door Frame', detected: false, confidence: 0 },
      { name: 'Hinges', detected: false, confidence: 0 },
      { name: 'Door Handle', detected: false, confidence: 0 },
      { name: 'Threshold', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'width', label: 'Width', default: 36, min: 24, max: 48, step: 1, unit: '"' },
      { key: 'height', label: 'Height', default: 84, min: 78, max: 96, step: 1, unit: '"' },
      { key: 'thickness', label: 'Thickness', default: 1.75, min: 1.375, max: 2.25, step: 0.125, unit: '"' },
      { key: 'frameWidth', label: 'Frame Width', default: 4.5, min: 3, max: 6, step: 0.25, unit: '"' },
      { key: 'frameDepth', label: 'Frame Depth', default: 4.875, min: 4, max: 8, step: 0.125, unit: '"' },
    ],
    subcategories: ['Interior', 'Exterior', 'Fire Rated', 'Flush', 'Panel'],
    templates: ['Door - Single Panel', 'Door - Single Flush', 'Door - Single with Sidelight'],
  },
  {
    id: 'double-door',
    name: 'Double Door',
    description: 'Double-leaf door pair with frame',
    discipline: 'architectural',
    revitCategory: 'Doors',
    omniClass: '23-17 11 13',
    uniclass: 'Pr_30_59_32',
    ifcEntity: 'IfcDoor',
    detectionPrompts: ['double door', 'french door', 'double entry', 'pair door'],
    suggestedTemplate: 'Door - Double Panel',
    hostBased: true,
    components: [
      { name: 'Active Leaf', detected: false, confidence: 0 },
      { name: 'Inactive Leaf', detected: false, confidence: 0 },
      { name: 'Door Frame', detected: false, confidence: 0 },
      { name: 'Center Mullion', detected: false, confidence: 0 },
      { name: 'Hardware', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'width', label: 'Overall Width', default: 72, min: 48, max: 96, step: 1, unit: '"' },
      { key: 'height', label: 'Height', default: 84, min: 78, max: 96, step: 1, unit: '"' },
      { key: 'thickness', label: 'Thickness', default: 1.75, min: 1.375, max: 2.25, step: 0.125, unit: '"' },
      { key: 'frameWidth', label: 'Frame Width', default: 4.5, min: 3, max: 6, step: 0.25, unit: '"' },
      { key: 'leafWidth', label: 'Leaf Width', default: 36, min: 24, max: 48, step: 1, unit: '"' },
    ],
    subcategories: ['Interior', 'Exterior', 'French', 'Fire Rated'],
    templates: ['Door - Double Panel', 'Door - Double Flush', 'Door - French'],
  },
  {
    id: 'sliding-door',
    name: 'Sliding Door',
    description: 'Sliding door with track system',
    discipline: 'architectural',
    revitCategory: 'Doors',
    omniClass: '23-17 11 15',
    uniclass: 'Pr_30_59_32',
    ifcEntity: 'IfcDoor',
    detectionPrompts: ['sliding door', 'patio door', 'slider', 'sliding glass door'],
    suggestedTemplate: 'Door - Sliding',
    hostBased: true,
    components: [
      { name: 'Fixed Panel', detected: false, confidence: 0 },
      { name: 'Sliding Panel', detected: false, confidence: 0 },
      { name: 'Frame', detected: false, confidence: 0 },
      { name: 'Track', detected: false, confidence: 0 },
      { name: 'Handle', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'width', label: 'Overall Width', default: 72, min: 60, max: 144, step: 1, unit: '"' },
      { key: 'height', label: 'Height', default: 80, min: 78, max: 96, step: 1, unit: '"' },
      { key: 'frameDepth', label: 'Frame Depth', default: 4.5, min: 4, max: 6, step: 0.25, unit: '"' },
      { key: 'panelWidth', label: 'Panel Width', default: 36, min: 30, max: 72, step: 1, unit: '"' },
    ],
    subcategories: ['2-Panel', '3-Panel', '4-Panel', 'Pocket'],
    templates: ['Door - Sliding 2 Panel', 'Door - Sliding 3 Panel'],
  },
  {
    id: 'casement-window',
    name: 'Casement Window',
    description: 'Side-hinged window that swings outward',
    discipline: 'architectural',
    revitCategory: 'Windows',
    omniClass: '23-17 13 11',
    uniclass: 'Pr_30_59_98',
    ifcEntity: 'IfcWindow',
    detectionPrompts: ['casement window', 'hinged window', 'crank window', 'awning window'],
    suggestedTemplate: 'Window - Casement',
    hostBased: true,
    components: [
      { name: 'Frame', detected: false, confidence: 0 },
      { name: 'Sash', detected: false, confidence: 0 },
      { name: 'Glazing', detected: false, confidence: 0 },
      { name: 'Hardware', detected: false, confidence: 0 },
      { name: 'Sill', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'width', label: 'Width', default: 36, min: 18, max: 48, step: 1, unit: '"' },
      { key: 'height', label: 'Height', default: 48, min: 24, max: 72, step: 1, unit: '"' },
      { key: 'sillHeight', label: 'Sill Height', default: 36, min: 0, max: 48, step: 1, unit: '"' },
      { key: 'frameWidth', label: 'Frame Width', default: 2.5, min: 2, max: 4, step: 0.25, unit: '"' },
    ],
    subcategories: ['Single', 'Double', 'Triple', 'Awning'],
    templates: ['Window - Casement Single', 'Window - Casement Double', 'Window - Awning'],
  },
  {
    id: 'double-hung-window',
    name: 'Double-Hung Window',
    description: 'Vertically sliding sashes window',
    discipline: 'architectural',
    revitCategory: 'Windows',
    omniClass: '23-17 13 13',
    uniclass: 'Pr_30_59_98',
    ifcEntity: 'IfcWindow',
    detectionPrompts: ['double hung window', 'sash window', 'vertical slider', 'single hung window'],
    suggestedTemplate: 'Window - Double Hung',
    hostBased: true,
    components: [
      { name: 'Frame', detected: false, confidence: 0 },
      { name: 'Upper Sash', detected: false, confidence: 0 },
      { name: 'Lower Sash', detected: false, confidence: 0 },
      { name: 'Glazing', detected: false, confidence: 0 },
      { name: 'Sill', detected: false, confidence: 0 },
      { name: 'Meeting Rail', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'width', label: 'Width', default: 36, min: 24, max: 48, step: 1, unit: '"' },
      { key: 'height', label: 'Height', default: 60, min: 36, max: 84, step: 1, unit: '"' },
      { key: 'sillHeight', label: 'Sill Height', default: 30, min: 0, max: 48, step: 1, unit: '"' },
      { key: 'frameWidth', label: 'Frame Width', default: 3, min: 2, max: 4, step: 0.25, unit: '"' },
    ],
    subcategories: ['Single Hung', 'Double Hung', 'With Grilles'],
    templates: ['Window - Double Hung', 'Window - Single Hung', 'Window - Double Hung with Grilles'],
  },
  {
    id: 'fixed-window',
    name: 'Fixed Window',
    description: 'Non-operable window with fixed glazing',
    discipline: 'architectural',
    revitCategory: 'Windows',
    omniClass: '23-17 13 17',
    uniclass: 'Pr_30_59_98',
    ifcEntity: 'IfcWindow',
    detectionPrompts: ['fixed window', 'picture window', 'non-operable window', 'plate glass'],
    suggestedTemplate: 'Window - Fixed',
    hostBased: true,
    components: [
      { name: 'Frame', detected: false, confidence: 0 },
      { name: 'Glazing', detected: false, confidence: 0 },
      { name: 'Sill', detected: false, confidence: 0 },
      { name: 'Trim', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'width', label: 'Width', default: 48, min: 12, max: 120, step: 1, unit: '"' },
      { key: 'height', label: 'Height', default: 48, min: 12, max: 120, step: 1, unit: '"' },
      { key: 'sillHeight', label: 'Sill Height', default: 36, min: 0, max: 60, step: 1, unit: '"' },
      { key: 'frameWidth', label: 'Frame Width', default: 2, min: 1.5, max: 4, step: 0.25, unit: '"' },
    ],
    subcategories: ['Picture', 'Transom', 'Clerestory', 'Skylight'],
    templates: ['Window - Fixed', 'Window - Picture', 'Window - Transom'],
  },
  {
    id: 'accent-chair',
    name: 'Accent / Lounge Chair',
    description: 'Upholstered accent or lounge chair with wooden legs',
    discipline: 'architectural',
    revitCategory: 'Furniture',
    omniClass: '23-21 11 11',
    uniclass: 'Pr_40_30_29',
    ifcEntity: 'IfcFurniture',
    detectionPrompts: ['accent chair', 'lounge chair', 'armchair', 'wingback chair', 'upholstered chair', 'club chair'],
    suggestedTemplate: 'Metric Generic Model',
    hostBased: false,
    components: [
      { name: 'Seat Cushion', detected: false, confidence: 0 },
      { name: 'Backrest', detected: false, confidence: 0 },
      { name: 'Wings / Side Panels', detected: false, confidence: 0 },
      { name: 'Armrests', detected: false, confidence: 0 },
      { name: 'Front Legs', detected: false, confidence: 0 },
      { name: 'Rear Legs', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'seatHeight', label: 'Seat Height', default: 17, min: 14, max: 20, step: 0.5, unit: '"' },
      { key: 'seatWidth', label: 'Seat Width', default: 22, min: 18, max: 28, step: 1, unit: '"' },
      { key: 'seatDepth', label: 'Seat Depth', default: 21, min: 18, max: 26, step: 1, unit: '"' },
      { key: 'backHeight', label: 'Back Height', default: 20, min: 14, max: 30, step: 1, unit: '"' },
      { key: 'overallWidth', label: 'Overall Width', default: 28, min: 24, max: 36, step: 1, unit: '"' },
      { key: 'overallHeight', label: 'Overall Height', default: 38, min: 32, max: 48, step: 1, unit: '"' },
    ],
    subcategories: ['Wingback', 'Club Chair', 'Barrel Chair', 'Slipper Chair'],
    templates: ['Metric Generic Model', 'Chair - Lounge'],
  },
  {
    id: 'office-chair',
    name: 'Office Chair',
    description: 'Ergonomic task chair with adjustable height and casters',
    discipline: 'architectural',
    revitCategory: 'Furniture',
    omniClass: '23-21 11 13',
    uniclass: 'Pr_40_30_29',
    ifcEntity: 'IfcFurniture',
    detectionPrompts: ['office chair', 'task chair', 'desk chair', 'ergonomic chair', 'swivel chair', 'computer chair'],
    suggestedTemplate: 'Metric Generic Model',
    hostBased: false,
    components: [
      { name: 'Seat', detected: false, confidence: 0 },
      { name: 'Backrest', detected: false, confidence: 0 },
      { name: 'Armrests', detected: false, confidence: 0 },
      { name: 'Gas Lift', detected: false, confidence: 0 },
      { name: 'Base', detected: false, confidence: 0 },
      { name: 'Casters', detected: false, confidence: 0 },
      { name: 'Headrest', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'seatHeight', label: 'Seat Height', default: 17.5, min: 15, max: 22, step: 0.5, unit: '"' },
      { key: 'seatWidth', label: 'Seat Width', default: 19, min: 17, max: 22, step: 0.5, unit: '"' },
      { key: 'seatDepth', label: 'Seat Depth', default: 17, min: 15, max: 20, step: 0.5, unit: '"' },
      { key: 'backHeight', label: 'Back Height', default: 22, min: 16, max: 30, step: 1, unit: '"' },
      { key: 'overallWidth', label: 'Overall Width', default: 26, min: 22, max: 30, step: 1, unit: '"' },
      { key: 'overallHeight', label: 'Overall Height', default: 42, min: 36, max: 52, step: 1, unit: '"' },
    ],
    subcategories: ['Task Chair', 'Executive', 'Conference', 'Drafting'],
    templates: ['Metric Generic Model', 'Chair - Office'],
  },
  {
    id: 'sofa',
    name: 'Sofa / Couch',
    description: 'Multi-seat upholstered sofa or sectional',
    discipline: 'architectural',
    revitCategory: 'Furniture',
    omniClass: '23-21 11 17',
    uniclass: 'Pr_40_30_81',
    ifcEntity: 'IfcFurniture',
    detectionPrompts: ['sofa', 'couch', 'loveseat', 'sectional', 'settee', 'divan'],
    suggestedTemplate: 'Metric Generic Model',
    hostBased: false,
    components: [
      { name: 'Seat Cushions', detected: false, confidence: 0 },
      { name: 'Back Cushions', detected: false, confidence: 0 },
      { name: 'Frame', detected: false, confidence: 0 },
      { name: 'Arms', detected: false, confidence: 0 },
      { name: 'Legs / Base', detected: false, confidence: 0 },
      { name: 'Throw Pillows', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'seatHeight', label: 'Seat Height', default: 17, min: 14, max: 20, step: 0.5, unit: '"' },
      { key: 'overallHeight', label: 'Overall Height', default: 34, min: 28, max: 42, step: 1, unit: '"' },
      { key: 'overallWidth', label: 'Overall Width', default: 84, min: 60, max: 120, step: 1, unit: '"' },
      { key: 'overallDepth', label: 'Overall Depth', default: 36, min: 32, max: 44, step: 1, unit: '"' },
      { key: 'armHeight', label: 'Arm Height', default: 26, min: 22, max: 32, step: 1, unit: '"' },
      { key: 'seatDepth', label: 'Seat Depth', default: 22, min: 18, max: 28, step: 1, unit: '"' },
    ],
    subcategories: ['3-Seat', 'Loveseat', 'Sectional', 'Sleeper'],
    templates: ['Metric Generic Model', 'Sofa - 3 Seat'],
  },
  {
    id: 'dining-table',
    name: 'Dining Table',
    description: 'Dining or conference table',
    discipline: 'architectural',
    revitCategory: 'Furniture',
    omniClass: '23-21 13 11',
    uniclass: 'Pr_40_30_89',
    ifcEntity: 'IfcFurniture',
    detectionPrompts: ['dining table', 'conference table', 'kitchen table', 'rectangular table'],
    suggestedTemplate: 'Table - Rectangular',
    hostBased: false,
    components: [
      { name: 'Tabletop', detected: false, confidence: 0 },
      { name: 'Legs', detected: false, confidence: 0 },
      { name: 'Apron', detected: false, confidence: 0 },
      { name: 'Stretchers', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'tableHeight', label: 'Table Height', default: 30, min: 28, max: 36, step: 0.5, unit: '"' },
      { key: 'tableLength', label: 'Length', default: 72, min: 48, max: 120, step: 1, unit: '"' },
      { key: 'tableWidth', label: 'Width', default: 36, min: 30, max: 48, step: 1, unit: '"' },
      { key: 'topThickness', label: 'Top Thickness', default: 1.25, min: 0.75, max: 2, step: 0.25, unit: '"' },
      { key: 'legWidth', label: 'Leg Width', default: 3, min: 2, max: 6, step: 0.5, unit: '"' },
    ],
    subcategories: ['Rectangular', 'Round', 'Square', 'Oval', 'Extendable'],
    templates: ['Table - Rectangular', 'Table - Round', 'Table - Dining'],
  },
  {
    id: 'office-desk',
    name: 'Office Desk',
    description: 'Work desk or workstation',
    discipline: 'architectural',
    revitCategory: 'Furniture',
    omniClass: '23-21 13 13',
    uniclass: 'Pr_40_30_22',
    ifcEntity: 'IfcFurniture',
    detectionPrompts: ['desk', 'office desk', 'work desk', 'writing desk', 'computer desk', 'workstation'],
    suggestedTemplate: 'Desk - Straight',
    hostBased: false,
    components: [
      { name: 'Work Surface', detected: false, confidence: 0 },
      { name: 'Pedestals', detected: false, confidence: 0 },
      { name: 'Drawers', detected: false, confidence: 0 },
      { name: 'Modesty Panel', detected: false, confidence: 0 },
      { name: 'Cable Management', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'deskHeight', label: 'Desk Height', default: 29, min: 26, max: 32, step: 0.5, unit: '"' },
      { key: 'deskWidth', label: 'Width', default: 60, min: 48, max: 84, step: 1, unit: '"' },
      { key: 'deskDepth', label: 'Depth', default: 30, min: 24, max: 36, step: 1, unit: '"' },
      { key: 'modestyHeight', label: 'Modesty Panel Height', default: 12, min: 8, max: 18, step: 1, unit: '"' },
      { key: 'topThickness', label: 'Top Thickness', default: 1, min: 0.75, max: 1.5, step: 0.25, unit: '"' },
    ],
    subcategories: ['Straight', 'L-Shaped', 'U-Shaped', 'Standing'],
    templates: ['Desk - Straight', 'Desk - L-Shape', 'Desk - Standing'],
  },
  {
    id: 'storage-cabinet',
    name: 'Storage Cabinet',
    description: 'Freestanding or wall-mounted storage cabinet',
    discipline: 'architectural',
    revitCategory: 'Casework',
    omniClass: '23-21 21 11',
    uniclass: 'Pr_40_30_13',
    ifcEntity: 'IfcFurniture',
    detectionPrompts: ['cabinet', 'storage cabinet', 'wardrobe', 'cupboard', 'armoire', 'bookcase'],
    suggestedTemplate: 'Casework - Base Cabinet',
    hostBased: false,
    components: [
      { name: 'Carcass', detected: false, confidence: 0 },
      { name: 'Doors', detected: false, confidence: 0 },
      { name: 'Shelves', detected: false, confidence: 0 },
      { name: 'Hardware', detected: false, confidence: 0 },
      { name: 'Toe Kick', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'cabinetHeight', label: 'Height', default: 72, min: 30, max: 96, step: 1, unit: '"' },
      { key: 'cabinetWidth', label: 'Width', default: 36, min: 12, max: 48, step: 1, unit: '"' },
      { key: 'cabinetDepth', label: 'Depth', default: 24, min: 12, max: 30, step: 1, unit: '"' },
      { key: 'toeKickHeight', label: 'Toe Kick Height', default: 4, min: 3, max: 6, step: 0.5, unit: '"' },
      { key: 'shelfCount', label: 'Shelf Count', default: 4, min: 1, max: 8, step: 1, unit: '' },
    ],
    subcategories: ['Base', 'Wall', 'Tall', 'Open Shelving'],
    templates: ['Casework - Base Cabinet', 'Casework - Wall Cabinet', 'Casework - Tall Cabinet'],
  },
  {
    id: 'steel-column',
    name: 'Steel Column',
    description: 'Structural steel column (W-shape, HSS)',
    discipline: 'structural',
    revitCategory: 'Structural Columns',
    omniClass: '23-13 11 11',
    uniclass: 'Pr_20_76_17',
    ifcEntity: 'IfcColumn',
    detectionPrompts: ['steel column', 'i-beam column', 'structural column', 'w-shape column', 'hss column'],
    suggestedTemplate: 'Structural Column - Steel',
    hostBased: false,
    components: [
      { name: 'Flange', detected: false, confidence: 0 },
      { name: 'Web', detected: false, confidence: 0 },
      { name: 'Base Plate', detected: false, confidence: 0 },
      { name: 'Cap Plate', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'depth', label: 'Depth (d)', default: 12, min: 4, max: 36, step: 0.5, unit: '"' },
      { key: 'flangeWidth', label: 'Flange Width (bf)', default: 8, min: 4, max: 18, step: 0.25, unit: '"' },
      { key: 'flangeThickness', label: 'Flange Thickness (tf)', default: 0.75, min: 0.25, max: 2, step: 0.0625, unit: '"' },
      { key: 'webThickness', label: 'Web Thickness (tw)', default: 0.5, min: 0.25, max: 1.5, step: 0.0625, unit: '"' },
      { key: 'length', label: 'Length', default: 120, min: 48, max: 360, step: 1, unit: '"' },
    ],
    subcategories: ['W-Shape', 'HSS Square', 'HSS Round', 'Pipe'],
    templates: ['W Shapes-Column', 'HSS-Hollow Structural Section-Column'],
  },
  {
    id: 'concrete-column',
    name: 'Concrete Column',
    description: 'Reinforced concrete column',
    discipline: 'structural',
    revitCategory: 'Structural Columns',
    omniClass: '23-13 11 13',
    uniclass: 'Pr_20_76_17',
    ifcEntity: 'IfcColumn',
    detectionPrompts: ['concrete column', 'concrete pillar', 'round column', 'square column', 'reinforced column'],
    suggestedTemplate: 'Structural Column - Concrete',
    hostBased: false,
    components: [
      { name: 'Column Body', detected: false, confidence: 0 },
      { name: 'Reinforcement', detected: false, confidence: 0 },
      { name: 'Capital', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'width', label: 'Width', default: 24, min: 12, max: 48, step: 1, unit: '"' },
      { key: 'depth', label: 'Depth', default: 24, min: 12, max: 48, step: 1, unit: '"' },
      { key: 'length', label: 'Length', default: 120, min: 48, max: 360, step: 1, unit: '"' },
      { key: 'cornerRadius', label: 'Corner Radius', default: 0, min: 0, max: 6, step: 0.5, unit: '"' },
    ],
    subcategories: ['Rectangular', 'Round', 'Square', 'Octagonal'],
    templates: ['Concrete-Rectangular-Column', 'Concrete-Round-Column'],
  },
  {
    id: 'steel-beam',
    name: 'Steel Beam',
    description: 'Structural steel beam or girder',
    discipline: 'structural',
    revitCategory: 'Structural Framing',
    omniClass: '23-13 13 11',
    uniclass: 'Pr_20_76_09',
    ifcEntity: 'IfcBeam',
    detectionPrompts: ['steel beam', 'i-beam', 'girder', 'structural beam', 'w-beam', 'wide flange'],
    suggestedTemplate: 'Structural Framing - Steel',
    hostBased: false,
    components: [
      { name: 'Top Flange', detected: false, confidence: 0 },
      { name: 'Bottom Flange', detected: false, confidence: 0 },
      { name: 'Web', detected: false, confidence: 0 },
      { name: 'End Connection', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'depth', label: 'Depth (d)', default: 18, min: 6, max: 44, step: 0.5, unit: '"' },
      { key: 'flangeWidth', label: 'Flange Width (bf)', default: 7.5, min: 4, max: 18, step: 0.25, unit: '"' },
      { key: 'flangeThickness', label: 'Flange Thickness (tf)', default: 0.75, min: 0.25, max: 2, step: 0.0625, unit: '"' },
      { key: 'webThickness', label: 'Web Thickness (tw)', default: 0.45, min: 0.25, max: 1.5, step: 0.0625, unit: '"' },
      { key: 'length', label: 'Length', default: 240, min: 60, max: 600, step: 1, unit: '"' },
    ],
    subcategories: ['W-Shape', 'S-Shape', 'Channel', 'Angle'],
    templates: ['W Shapes', 'S Shapes', 'C Shapes-American'],
  },
  {
    id: 'pendant-light',
    name: 'Pendant Light',
    description: 'Suspended pendant luminaire',
    discipline: 'electrical',
    revitCategory: 'Lighting Fixtures',
    omniClass: '23-35 47 11',
    uniclass: 'Pr_70_65_46',
    ifcEntity: 'IfcLightFixture',
    detectionPrompts: ['pendant light', 'hanging light', 'chandelier', 'suspended light', 'drop light'],
    suggestedTemplate: 'Lighting Fixture - Pendant',
    hostBased: false,
    connectorTypes: ['Electrical'],
    components: [
      { name: 'Shade', detected: false, confidence: 0 },
      { name: 'Canopy', detected: false, confidence: 0 },
      { name: 'Suspension', detected: false, confidence: 0 },
      { name: 'Socket', detected: false, confidence: 0 },
      { name: 'Diffuser', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'fixtureDiameter', label: 'Fixture Diameter', default: 18, min: 6, max: 48, step: 1, unit: '"' },
      { key: 'fixtureHeight', label: 'Fixture Height', default: 14, min: 6, max: 36, step: 1, unit: '"' },
      { key: 'suspensionLength', label: 'Suspension Length', default: 36, min: 12, max: 120, step: 1, unit: '"' },
      { key: 'canopyDiameter', label: 'Canopy Diameter', default: 5, min: 4, max: 8, step: 0.5, unit: '"' },
    ],
    subcategories: ['Drum', 'Globe', 'Cone', 'Linear', 'Chandelier'],
    templates: ['Pendant Light - Drum', 'Pendant Light - Globe', 'Pendant Light - Linear'],
  },
  {
    id: 'recessed-light',
    name: 'Recessed Light',
    description: 'Recessed ceiling-mounted downlight',
    discipline: 'electrical',
    revitCategory: 'Lighting Fixtures',
    omniClass: '23-35 47 13',
    uniclass: 'Pr_70_65_46',
    ifcEntity: 'IfcLightFixture',
    detectionPrompts: ['recessed light', 'downlight', 'can light', 'pot light', 'ceiling light'],
    suggestedTemplate: 'Lighting Fixture - Recessed',
    hostBased: true,
    connectorTypes: ['Electrical'],
    components: [
      { name: 'Housing', detected: false, confidence: 0 },
      { name: 'Trim', detected: false, confidence: 0 },
      { name: 'Reflector', detected: false, confidence: 0 },
      { name: 'Lamp', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'apertureDiameter', label: 'Aperture Diameter', default: 6, min: 3, max: 12, step: 0.5, unit: '"' },
      { key: 'housingHeight', label: 'Housing Height', default: 8, min: 4, max: 12, step: 0.5, unit: '"' },
      { key: 'trimWidth', label: 'Trim Width', default: 0.5, min: 0.25, max: 1, step: 0.125, unit: '"' },
    ],
    subcategories: ['Round', 'Square', 'Adjustable', 'IC Rated'],
    templates: ['Downlight - 6 inch', 'Downlight - 4 inch', 'Downlight - Adjustable'],
  },
  {
    id: 'electrical-panel',
    name: 'Electrical Panel',
    description: 'Electrical distribution panel or breaker box',
    discipline: 'electrical',
    revitCategory: 'Electrical Equipment',
    omniClass: '23-35 11 11',
    uniclass: 'Pr_60_50_28',
    ifcEntity: 'IfcElectricDistributionBoard',
    detectionPrompts: ['electrical panel', 'breaker box', 'distribution panel', 'load center', 'panelboard'],
    suggestedTemplate: 'Electrical Equipment - Panel',
    hostBased: true,
    connectorTypes: ['Electrical'],
    components: [
      { name: 'Enclosure', detected: false, confidence: 0 },
      { name: 'Door', detected: false, confidence: 0 },
      { name: 'Bus Bars', detected: false, confidence: 0 },
      { name: 'Breakers', detected: false, confidence: 0 },
      { name: 'Neutral Bar', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'panelHeight', label: 'Height', default: 36, min: 20, max: 72, step: 1, unit: '"' },
      { key: 'panelWidth', label: 'Width', default: 20, min: 14, max: 36, step: 1, unit: '"' },
      { key: 'panelDepth', label: 'Depth', default: 6, min: 4, max: 12, step: 0.5, unit: '"' },
      { key: 'circuitCount', label: 'Circuit Count', default: 20, min: 8, max: 84, step: 2, unit: '' },
    ],
    subcategories: ['Main Breaker', 'Main Lug', 'Sub-Panel'],
    templates: ['Panelboard - Surface', 'Panelboard - Flush', 'Load Center'],
  },
  {
    id: 'outlet',
    name: 'Electrical Outlet',
    description: 'Wall-mounted power receptacle',
    discipline: 'electrical',
    revitCategory: 'Electrical Fixtures',
    omniClass: '23-35 31 11',
    uniclass: 'Pr_60_50_78',
    ifcEntity: 'IfcOutlet',
    detectionPrompts: ['outlet', 'power outlet', 'receptacle', 'socket', 'electrical socket', 'plug'],
    suggestedTemplate: 'Electrical Fixture - Outlet',
    hostBased: true,
    connectorTypes: ['Electrical'],
    components: [
      { name: 'Faceplate', detected: false, confidence: 0 },
      { name: 'Receptacle', detected: false, confidence: 0 },
      { name: 'Box', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'height', label: 'Height', default: 4.5, min: 4, max: 5, step: 0.25, unit: '"' },
      { key: 'width', label: 'Width', default: 2.75, min: 2.5, max: 4.5, step: 0.25, unit: '"' },
      { key: 'mountHeight', label: 'Mount Height', default: 18, min: 12, max: 48, step: 1, unit: '"' },
    ],
    subcategories: ['Duplex', 'GFCI', 'USB', 'Floor Box', '20A'],
    templates: ['Duplex Receptacle', 'GFCI Receptacle', 'USB Receptacle'],
  },
  {
    id: 'air-terminal',
    name: 'Air Terminal',
    description: 'HVAC supply/return air diffuser or grille',
    discipline: 'mechanical',
    revitCategory: 'Air Terminals',
    omniClass: '23-33 11 11',
    uniclass: 'Pr_70_60_02',
    ifcEntity: 'IfcAirTerminal',
    detectionPrompts: ['air vent', 'diffuser', 'grille', 'register', 'hvac vent', 'supply vent', 'return vent'],
    suggestedTemplate: 'Air Terminal - Diffuser',
    hostBased: true,
    connectorTypes: ['Duct'],
    components: [
      { name: 'Face', detected: false, confidence: 0 },
      { name: 'Damper', detected: false, confidence: 0 },
      { name: 'Neck', detected: false, confidence: 0 },
      { name: 'Louvers', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'faceWidth', label: 'Face Width', default: 24, min: 6, max: 48, step: 1, unit: '"' },
      { key: 'faceLength', label: 'Face Length', default: 24, min: 6, max: 48, step: 1, unit: '"' },
      { key: 'neckDiameter', label: 'Neck Diameter', default: 10, min: 4, max: 24, step: 1, unit: '"' },
      { key: 'flowRate', label: 'Flow Rate', default: 200, min: 50, max: 1000, step: 25, unit: 'CFM' },
    ],
    subcategories: ['Square Diffuser', 'Round Diffuser', 'Linear Slot', 'Return Grille'],
    templates: ['Supply Diffuser - Square', 'Supply Diffuser - Round', 'Return Air Grille'],
  },
  {
    id: 'mechanical-equipment',
    name: 'Mechanical Equipment',
    description: 'HVAC equipment (AHU, RTU, fan coil)',
    discipline: 'mechanical',
    revitCategory: 'Mechanical Equipment',
    omniClass: '23-33 21 11',
    uniclass: 'Pr_70_60_47',
    ifcEntity: 'IfcUnitaryEquipment',
    detectionPrompts: ['hvac unit', 'air handler', 'ahu', 'rtu', 'fan coil', 'ac unit', 'furnace', 'heat pump'],
    suggestedTemplate: 'Mechanical Equipment',
    hostBased: false,
    connectorTypes: ['Duct', 'Pipe', 'Electrical'],
    components: [
      { name: 'Cabinet', detected: false, confidence: 0 },
      { name: 'Fan', detected: false, confidence: 0 },
      { name: 'Coil', detected: false, confidence: 0 },
      { name: 'Filter', detected: false, confidence: 0 },
      { name: 'Access Panel', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'equipWidth', label: 'Width', default: 48, min: 24, max: 120, step: 1, unit: '"' },
      { key: 'equipHeight', label: 'Height', default: 36, min: 18, max: 96, step: 1, unit: '"' },
      { key: 'equipDepth', label: 'Depth', default: 24, min: 18, max: 72, step: 1, unit: '"' },
      { key: 'capacity', label: 'Capacity', default: 24000, min: 6000, max: 120000, step: 6000, unit: 'BTU' },
    ],
    subcategories: ['Air Handler', 'RTU', 'Fan Coil', 'Split System', 'Furnace'],
    templates: ['Air Handler Unit', 'Rooftop Unit', 'Fan Coil Unit'],
  },
  {
    id: 'toilet',
    name: 'Toilet',
    description: 'Water closet / toilet fixture',
    discipline: 'plumbing',
    revitCategory: 'Plumbing Fixtures',
    omniClass: '23-31 21 11',
    uniclass: 'Pr_40_80_98',
    ifcEntity: 'IfcSanitaryTerminal',
    detectionPrompts: ['toilet', 'water closet', 'wc', 'commode', 'lavatory'],
    suggestedTemplate: 'Plumbing Fixture - Toilet',
    hostBased: false,
    connectorTypes: ['Pipe'],
    components: [
      { name: 'Bowl', detected: false, confidence: 0 },
      { name: 'Tank', detected: false, confidence: 0 },
      { name: 'Seat', detected: false, confidence: 0 },
      { name: 'Flush Valve', detected: false, confidence: 0 },
      { name: 'Supply Line', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'bowlHeight', label: 'Bowl Height', default: 15, min: 14, max: 19, step: 0.5, unit: '"' },
      { key: 'overallHeight', label: 'Overall Height', default: 28, min: 26, max: 32, step: 0.5, unit: '"' },
      { key: 'depth', label: 'Depth', default: 28, min: 25, max: 32, step: 0.5, unit: '"' },
      { key: 'width', label: 'Width', default: 19, min: 17, max: 22, step: 0.5, unit: '"' },
      { key: 'roughIn', label: 'Rough-In', default: 12, min: 10, max: 14, step: 1, unit: '"' },
    ],
    subcategories: ['Two-Piece', 'One-Piece', 'Wall-Hung', 'ADA Compliant'],
    templates: ['Water Closet - Floor Mount', 'Water Closet - Wall Mount', 'Water Closet - ADA'],
  },
  {
    id: 'sink',
    name: 'Sink',
    description: 'Lavatory sink or basin',
    discipline: 'plumbing',
    revitCategory: 'Plumbing Fixtures',
    omniClass: '23-31 21 15',
    uniclass: 'Pr_40_80_76',
    ifcEntity: 'IfcSanitaryTerminal',
    detectionPrompts: ['sink', 'basin', 'lavatory', 'wash basin', 'vanity sink', 'bathroom sink'],
    suggestedTemplate: 'Plumbing Fixture - Sink',
    hostBased: false,
    connectorTypes: ['Pipe'],
    components: [
      { name: 'Basin', detected: false, confidence: 0 },
      { name: 'Faucet', detected: false, confidence: 0 },
      { name: 'Drain', detected: false, confidence: 0 },
      { name: 'Overflow', detected: false, confidence: 0 },
      { name: 'Countertop', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'basinWidth', label: 'Basin Width', default: 20, min: 12, max: 36, step: 1, unit: '"' },
      { key: 'basinDepth', label: 'Basin Depth', default: 17, min: 12, max: 24, step: 1, unit: '"' },
      { key: 'basinHeight', label: 'Basin Height', default: 6, min: 4, max: 10, step: 0.5, unit: '"' },
      { key: 'mountHeight', label: 'Mount Height', default: 34, min: 30, max: 36, step: 0.5, unit: '"' },
    ],
    subcategories: ['Pedestal', 'Undermount', 'Drop-In', 'Vessel', 'Wall-Mount'],
    templates: ['Lavatory - Pedestal', 'Lavatory - Undermount', 'Lavatory - Wall Mount'],
  },
  {
    id: 'sprinkler',
    name: 'Fire Sprinkler',
    description: 'Fire suppression sprinkler head',
    discipline: 'plumbing',
    revitCategory: 'Sprinklers',
    omniClass: '23-31 29 11',
    uniclass: 'Pr_70_55_31',
    ifcEntity: 'IfcFireSuppressionTerminal',
    detectionPrompts: ['sprinkler', 'fire sprinkler', 'sprinkler head', 'fire suppression'],
    suggestedTemplate: 'Sprinkler - Pendant',
    hostBased: true,
    connectorTypes: ['Pipe'],
    components: [
      { name: 'Head', detected: false, confidence: 0 },
      { name: 'Deflector', detected: false, confidence: 0 },
      { name: 'Frame', detected: false, confidence: 0 },
      { name: 'Escutcheon', detected: false, confidence: 0 },
    ],
    dimensions: [
      { key: 'coverageDiameter', label: 'Coverage Diameter', default: 16, min: 10, max: 20, step: 1, unit: 'ft' },
      { key: 'dropLength', label: 'Drop Length', default: 4, min: 0, max: 12, step: 0.5, unit: '"' },
      { key: 'threadSize', label: 'Thread Size', default: 0.5, min: 0.5, max: 1, step: 0.25, unit: '"' },
      { key: 'kFactor', label: 'K-Factor', default: 5.6, min: 2.8, max: 14, step: 0.1, unit: '' },
    ],
    subcategories: ['Pendant', 'Upright', 'Sidewall', 'Concealed'],
    templates: ['Sprinkler - Pendant', 'Sprinkler - Upright', 'Sprinkler - Sidewall'],
  },
]

export function getCategoriesByDiscipline(discipline: Discipline): RevitFamilyCategory[] {
  return revitCategories.filter(cat => cat.discipline === discipline)
}

export function getCategoryById(id: string): RevitFamilyCategory | undefined {
  return revitCategories.find(cat => cat.id === id)
}

export function getAllDetectionPrompts(): string[] {
  return revitCategories.flatMap(cat => cat.detectionPrompts)
}

export function getCategoryByDetectionPrompt(prompt: string): RevitFamilyCategory | undefined {
  const lowerPrompt = prompt.toLowerCase()
  return revitCategories.find(cat =>
    cat.detectionPrompts.some(p => p.toLowerCase() === lowerPrompt)
  )
}
